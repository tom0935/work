@model IntranetSystem.Models.ProgramMapping
@{
    ViewBag.Title = "群組與程式歸屬調整";
}
@section scripts {
    <script src="~/Scripts/gp_mapping.js" type="text/javascript"></script>
    <script>
        function checkForm() {
            //送出所有Workin的項目
            //   alert('');
            // $("select#hasprogram").find("option").attr("selected", true);
            $("#hasprogram option").prop("selected", true);

            return true;
        }    
    </script>
}
<div class="row">
    <div class="col-md-8 col-md-offset-2">
        <div class="panel panel-primary">
            <div class="panel-heading">@ViewBag.Title</div>
            <!-- Form Start -->
            @using (Html.BeginForm("Edit", "ProgramMapping", FormMethod.Post, new { @class = "form-horizontal", role = "from", onsubmit = "return checkForm()" }))
            {
                <div class="panel-body">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">
                            群組名稱</label>
                        <div class="col-sm-10">
                            <p class="form-control-static">@Model.NAME</p>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">
                            群組代碼</label>
                        <div class="col-sm-10">
                            <p class="form-control-static">@Model.CODE</p>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">
                            程式歸屬</label>
                        <div class="col-sm-4">
                            <select id="hasprogram" name="hasprogram" multiple size="15" class="form-control"
                                ondblclick="delProgram();">
                                @Html.Raw(Model.HASPROGRAM)
                            </select>
                        </div>
                        <div class="col-sm-2">
                            <p>
                                <a href="javascript:selProgram();" class="btn btn-default btn-block"><span class="glyphicon glyphicon-chevron-left">
                                </span>新增</a></p>
                            <p>
                                <a href="javascript:delProgram();" class="btn btn-danger btn-block">移除<span class="glyphicon glyphicon-chevron-right"></span></a></p>
                        </div>
                        <div class="col-sm-4">
                            <select id="program" name="program" multiple size="15" class="form-control" ondblclick="selProgram();">
                                @Html.Raw(Model.PROGRAM)
                            </select>
                        </div>
                    </div>
                </div>
                
                <div class="panel-footer">
                    <div class="row">
                        <div class="col-md-4 col-md-offset-2">
                            <button class="btn btn-block btn-success" type="submit" >
                                確認送出</button>
                        </div>
                        <div class="col-md-4">
                            @Html.ActionLink("回上層", "Index", "Group", null, new { @class = "btn btn-block btn-default" })
                        </div>
                    </div>
                </div>
            }
            <!-- Form Stop -->
        </div>
    </div>
</div>

